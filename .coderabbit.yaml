language: en-US
early_access: true
reviews:
    high_level_summary: false
    review_status: false
    poem: false
    changed_files_summary: false
    abort_on_close: true
    instructions: >-
        - Read and follow the code review guide when doing a review: https://github.com/dimagi/open-source/blob/master/docs/code_review.md
        - Read and follow the contribution guide when reviewing: https://github.com/dimagi/commcare-hq/blob/master/CONTRIBUTING.rst
        - Read and follow the project standards and best practices guide: https://github.com/dimagi/commcare-hq/blob/master/STANDARDS.rst.
    path_instructions:
        - path: "**/*.js"
          instructions: >-
            - Review the javascript code against the google javascript style guide and point out any mismatches.
            - User-facing language should be clear.
            - All user-facing text must be translated using `gettext`; use `_.template` for variable-containing strings.
            - User-facing dates and times must be in a relevant time zone, using `UserTime` or `corehq.util.timezones`.
            - Use `<%- ... %>` in Underscore templates to HTML escape values; use `DomPurify` for escaping user input outside templates.
            - AJAX requests must show a spinner and have an `error` callback.
            - Naming should be consistent, avoiding different capitalizations of the same identifier.
            - JavaScript should be modular, with explicit dependencies (except in app manager, reports, and web apps).
            - Avoid long parameter lists; prefer kwargs-style objects and use `assert_properties` for validation.
            - Ensure JavaScript accessing initial page data waits until the page is fully loaded to prevent race conditions.
            - Prefer Knockout over jQuery and avoid mixing the two.
        - path: "**/*.py"
          instructions: >-
            - Review the code following best practises and standards
    path_filters: ["**/*.js", "**/*.py", "**/*.md", "**/*.rst", "**/*.html"]
    auto_review:
        enabled: false
        auto_incremental_review: false
        drafts: false

{% load i18n %}

<form class="form form-ko-validation" method="post">
  {% csrf_token %}
  <div class="modal-body">
    <!-- ko if: showErrorMessage -->
      <div class="alert alert-warning">
        <p data-bind="text: errorMessage"></p>
      </div>
    <!-- /ko -->
    <div class="row">
      <div class="col-sm-6">
        <div class="form-group">
          <label class="control-label">
            {% trans "First name" %}<span class="asteriskField">*</span>
          </label>
          <div class="controls">
            <input type="text"
                   name="firstname"
                   data-bind="textInput: firstname"
                   class="form-control">
          </div>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="form-group">
          <label class="control-label">
            {% trans "Last name" %}<span class="asteriskField">*</span>
          </label>
          <div class="controls">
            <input type="text"
                   name="lastname"
                   data-bind="textInput: lastname"
                   class="form-control">
          </div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label class="control-label">
        {% trans "Organization" %}<span class="asteriskField">*</span>
      </label>
      <div class="controls">
        <input type="text"
               name="company"
               data-bind="textInput: company"
               class="form-control">
      </div>
    </div>
    <div class="form-group">
      <label class="control-label">
        {% trans "Professional email address" %}<span class="asteriskField">*</span>
      </label>
      <div class="controls">
        <input type="email"
               name="email"
               data-bind="textInput: email"
               class="form-control">
      </div>
    </div>
    <div class="form-group"
         data-bind="visible: showPreferredLanguage">
      <label class="control-label">
        {% trans "Preferred language" %}<span class="asteriskField">*</span>
      </label>
      <div class="controls">
        <select name="language"
                data-bind="value: language"
                class="form-control">
          <option value="">{% trans "Please Select" %}</option>
          <option value="English">{% trans "English" %}</option>
          <option value="French">{% trans "French" %}</option>
          <option value="Spanish">{% trans "Spanish" %}</option>
        </select>
      </div>
    </div>
    <div class="form-group">
      <label class="control-label">
        {% trans "How did you hear about us?" %}<span class="asteriskField">*</span>
      </label>
      <select name="discoverySource"
              data-bind="value: discoverySource"
              class="form-control">
        <option value="">{% trans "Please Select" %}</option>
        <option value="Newsletter">{% trans "Newsletter" %}</option>
        <option value="Podcast">{% trans "Podcast" %}</option>
        <option value="Social Media">{% trans "Social Media" %}</option>
        <option value="Web Search">{% trans "Web Search (e.g. Google)" %}</option>
        <option value="Referral">{% trans "Word of Mouth / Referral" %}</option>
        <option value="Event / Conference">{% trans "Event / Conference" %}</option>
        <option value="Other">{% trans "Other" %}</option>
      </select>
    </div>
    <div class="form-group" data-bind="visible: discoverySource() === 'Other'">
      <label class="control-label">
        {% trans "We'd love to hear more! Please specify -" %}
      </label>
      <div class="controls">
        <input type="text"
               name="otherSource"
               data-bind="textInput: otherSource"
               class="form-control">
      </div>
    </div>
    {% blocktrans %}
      By clicking this button, you agree to Dimagi's
      <a href="http://www.dimagi.com/terms/latest/tos/" target="_blank">Terms of Service</a> and
      <a href="http://www.dimagi.com/terms/latest/privacy/" target="_blank">Privacy Policy</a>.
    {% endblocktrans %}
  </div>
  <div class="modal-footer">
    <button class="btn btn btn-primary"
            data-bind="click: submitForm, disable: isSubmitDisabled"
            type="button">
      <!-- ko text: nextButtonText --><!-- /ko -->
    </button>
  </div>
</form>
